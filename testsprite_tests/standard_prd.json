{
  "meta": {
    "project": "K-Tetris: SEOUL",
    "date": "2025-12-22",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "K-Tetris: SEOUL is a modern web-based Tetris game that uniquely blends the iconic Gwanghwamun scenery with traditional Korean music and aesthetics. Developed using Next.js, TypeScript, and Tailwind CSS, it offers players a visually immersive and culturally rich Tetris experience featuring glowing neon blocks inspired by the Obangsaek color scheme and traditional Hanok-style UI frames.",
  "core_goals": [
    "Deliver an engaging, smooth, and responsive Tetris game playable on the web.",
    "Integrate traditional Korean cultural elements (e.g., visuals of Gwanghwamun, traditional Korean patterns, and music) seamlessly with modern gameplay.",
    "Ensure high performance game state updates and rendering using a split state management strategy (mutable refs for game logic and Zustand for UI state).",
    "Provide an aesthetic and intuitive UI with Hanok-style frames, day/night background transitions, and Neon Glow visuals for blocks.",
    "Implement a rich audio experience with traditional Korean instrument sounds layered with modern beats for background music and reactive SFX."
  ],
  "key_features": [
    "Robust Game Engine managing Tetris core mechanics including piece movement, rotation, collision detection, locking, and line clearing.",
    "Canvas-based Game Board rendering for smooth and performant graphics updating at 60FPS.",
    "Keyboard Input Controls for precise and responsive piece manipulation (move left/right, rotate, soft drop, hard drop).",
    "Zustand-based Game State Management for UI data such as score, level, lines cleared, hold piece, and next pieces display.",
    "Visual layering including Hanok-style framing, Neon Glow rendering of Tetrominoes with Obangsaek colors, and dynamic Background Manager switching between day and night Gwanghwamun panoramas depending on game level.",
    "Audio System management for playing background music tracks and sound effects triggered by game actions like rotations and line clears."
  ],
  "user_flow_summary": [
    "User opens the main game page and sees the Hanok-styled frame with the Tetris board and UI overlays.",
    "User starts the game, transitioning the state from IDLE to PLAYING.",
    "Tetromino pieces spawn at the top center of the grid and can be moved, rotated, or dropped via keyboard inputs.",
    "As pieces lock and lines clear, the game engine updates score, level, and lines in the Zustand store, triggering UI overlay updates.",
    "Background images smoothly transition between day and night scenes based on current level.",
    "Audio: Background music tracks play continuously with sound effects triggered appropriately by piece rotations, drops, and line clears.",
    "The game continues until the player is unable to place new pieces (Game Over), and the player can then restart or pause.",
    "Throughout gameplay, the Hold Queue and Next Queue components update dynamically reflecting the upcoming and held pieces."
  ],
  "validation_criteria": [
    "Game logic correctness including accurate collision detection, line clearing, and piece locking.",
    "UI reflects the correct score, level, lines cleared, and game status in real-time per Zustand store state changes.",
    "Keyboard controls respond swiftly and correctly for piece movements and rotations without input lag.",
    "Canvas rendering accurately and smoothly displays game board and piece states at 60FPS without visual glitches.",
    "Background image transitions occur smoothly without disrupting gameplay.",
    "Audio plays as expected: looping background tracks and playing distinct sound effects on designated game events.",
    "Game state transitions (start, pause, game over) trigger correct UI changes and allow resuming or restarting the game seamlessly.",
    "All visual elements adhere to the intended Korean traditional aesthetic, including the Hanok frame styling and Obangsaek color usage for Tetrominoes."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "React",
      "Tailwind CSS",
      "Zustand"
    ],
    "features": [
      {
        "name": "Game Engine",
        "description": "Core Tetris game logic including movement, collision detection, locking, and line clearing.",
        "files": [
          "src/lib/game/engine.ts",
          "src/hooks/useGameLoop.ts",
          "src/lib/game/types.ts",
          "src/lib/game/constants.ts",
          "src/lib/game/tetrominoes.ts"
        ]
      },
      {
        "name": "Input Controls",
        "description": "Handles keyboard inputs for moving, rotating, and dropping tetrominoes.",
        "files": [
          "src/hooks/useControls.ts"
        ]
      },
      {
        "name": "Game State Management",
        "description": "Manages UI state (score, level, status) using Zustand.",
        "files": [
          "src/store/gameStore.ts"
        ]
      },
      {
        "name": "Game Board Rendering",
        "description": "Renders the game grid and active pieces using Canvas.",
        "files": [
          "src/components/game/GameCanvas.tsx",
          "src/components/game/GameBoard.tsx"
        ]
      },
      {
        "name": "Audio System",
        "description": "Manages background music and sound effects.",
        "files": [
          "src/hooks/useAudio.ts"
        ]
      }
    ]
  }
}
